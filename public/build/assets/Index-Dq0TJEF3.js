import{g,r as b,j as e,H as N,L as t,s as r,B as o}from"./app-oKcMah4B.js";import{B as w}from"./badge-B5R7UOFY.js";import{A as D,D as y,c as C,d as S,e as i}from"./AppLayout-BkjjBjrr.js";import{S as v}from"./separator-D-mlPY_S.js";import{B,a as k,b as c,c as A,d as E,e as M}from"./breadcrumb-6hc-S_ku.js";import{D as T}from"./DataTable-Ce7i-V-n.js";import{T as d,E as U,S as L,u as R}from"./useActionHandler-qcsT6nKO.js";import{P as I}from"./plus-BGGo3CBK.js";import{D as P}from"./download-D7LHs-Kt.js";/* empty css            */import"./sun-BNKJhPB7.js";import"./chevron-right-BSH8rqjn.js";import"./input-pKAWPIMY.js";import"./popover-B3yyS8N8.js";import"./select-IWh58R8R.js";function ee({}){const m=g(),l=b.useRef(null),{handleDelete:u,handleExport:h,handleBulkDelete:x}=R(),p=[{accessorKey:"name",header:"Name",cell:({row:s})=>e.jsx("div",{className:"font-medium",children:s.getValue("name")})},{accessorKey:"email",header:"Email",cell:({row:s})=>e.jsx("div",{className:"min-w-0",children:s.getValue("email")})},{accessorKey:"role",header:"Role",cell:({row:s})=>{const a=s.getValue("role");return e.jsx(w,{className:a==="ADMIN"?"bg-brand-secondary":"bg-muted-block",children:a})},enableSorting:!1},{accessorKey:"created_at",header:"Created At",cell:({row:s})=>e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(s.getValue("created_at")).toLocaleDateString()})},{id:"actions",header:"Actions",enableSorting:!1,cell:({row:s})=>{const a=s.original,n=a.name;return e.jsxs(y,{children:[e.jsx(C,{asChild:!0,children:e.jsxs(o,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(U,{className:"h-4 w-4"})]})}),e.jsxs(S,{align:"end",children:[e.jsx(i,{asChild:!0,children:e.jsxs(t,{href:r("users.edit",a.id),children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(i,{onClick:async()=>{await m({title:"Delete User",description:`Are you sure you want to delete user ${n}? This action cannot be undone.`,confirmText:"Delete"})&&u(a.id,r("users.destroy",a.id),`User ${n}`,{onSuccess:()=>l.current?.reload()})},className:"text-red-600",children:[e.jsx(d,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}],j=[{key:"role",label:"Role",type:"select",placeholder:"Select role",options:[{label:"All Roles",value:"all"},{value:"ADMIN",label:"Admin"},{value:"CLIENT",label:"Client"}]}],f=[{label:"Export",icon:P,variant:"outline",size:"sm",onClick:s=>{h(s||[],"users")}},{label:"Bulk Delete",icon:d,variant:"destructive",size:"sm",showWhenSelected:!0,onClick:s=>{x(s||[],"users")}}];return e.jsxs(D,{children:[e.jsx(N,{title:"Users"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(B,{children:e.jsxs(k,{children:[e.jsx(c,{children:e.jsx(A,{asChild:!0,children:e.jsx(t,{href:"/dashboard",children:"Dashboard"})})}),e.jsx(E,{}),e.jsx(c,{children:e.jsx(M,{children:"User Management"})})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Users"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage system users and their roles"})]}),e.jsx(t,{href:r("users.create"),children:e.jsxs(o,{children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Create User"]})})]}),e.jsx(v,{}),e.jsx(T,{ref:l,columns:p,mode:"yajra",apiUrl:r("users.index"),dtColumns:["id","name","email","role","created_at","updated_at"],searchPlaceholder:"Search users...",filters:j,actions:f,showRowSelection:!0,showColumnVisibility:!0,showPagination:!0,emptyMessage:"No users found.",pageSize:10})]})]})}export{ee as default};
