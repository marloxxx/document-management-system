import{r as A,a as I,j as e,H as _,B as c,L as d,b as E}from"./app-oKcMah4B.js";import{H as T,A as L}from"./AppLayout-BkjjBjrr.js";import{C as t,a as r,b as i,c as n,d as o}from"./card-C115FapS.js";import{B as g}from"./badge-B5R7UOFY.js";import{F as b}from"./sun-BNKJhPB7.js";import{a as v,C as B}from"./clock-B9ah6g5e.js";import{P as k}from"./plus-BGGo3CBK.js";import{A as u}from"./arrow-right-FOm6c4Q1.js";import{C as H}from"./circle-alert-DnfFBuuy.js";/* empty css            */function q({stats:a,latestRegistration:l,recentRegistrations:w,recentDocuments:y,availableRegistrations:h}){const[j,m]=A.useState(!1),{toast:f}=I(),C=async()=>{m(!0);try{E.post("/registrations/issue",{},{onSuccess:()=>{f({title:"Success",description:"New registration number issued successfully"})},onError:()=>{f({title:"Error",description:"Failed to issue registration number",variant:"destructive"})},onFinish:()=>m(!1)})}catch{m(!1)}},D=[{title:"My Registrations",value:a.my_registrations,description:"Total issued to me",icon:T,color:"text-blue-600"},{title:"My Documents",value:a.my_documents,description:"Total submitted",icon:b,color:"text-purple-600"},{title:"Available",value:a.issued_registrations+a.partial_registrations,description:"Can be used",icon:v,color:"text-green-600"}],x=s=>{const p={ISSUED:{variant:"default",icon:B},PARTIAL:{variant:"secondary",icon:H},COMMITTED:{variant:"outline",icon:v}},N=p[s]||p.ISSUED,S=N.icon;return e.jsxs(g,{variant:N.variant,className:"gap-1",children:[e.jsx(S,{className:"h-3 w-3"}),s]})};return e.jsxs(L,{children:[e.jsx(_,{title:"Dashboard"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your registrations and documents"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{onClick:C,disabled:j,children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),j?"Issuing...":"Issue Number"]}),e.jsx(d,{href:"/documents/create",children:e.jsxs(c,{variant:"outline",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"New Document"]})})]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:D.map(s=>e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:s.title}),e.jsx(s.icon,{className:`h-4 w-4 ${s.color}`})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.value}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})]},s.title))}),l&&e.jsxs(t,{className:"border-primary/50 bg-primary/5",children:[e.jsxs(r,{children:[e.jsx(i,{children:"Latest Registration Number"}),e.jsx(o,{children:"Your most recent registration"})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-mono font-bold",children:l.number}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Issued: ",new Date(l.issued_at).toLocaleDateString()]})]}),x(l.state)]})})]}),h.length>0&&e.jsxs(t,{children:[e.jsxs(r,{children:[e.jsx(i,{children:"Available Registration Numbers"}),e.jsx(o,{children:"Numbers that can still be used for documents"})]}),e.jsx(n,{children:e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:h.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-mono font-semibold",children:s.number}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.state==="ISSUED"?"Unused":"1 doc used"})]}),x(s.state)]},s.id))})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Recent Registrations"}),e.jsx(o,{children:"Your latest registration numbers"})]}),e.jsx(d,{href:"/registrations",children:e.jsxs(c,{variant:"ghost",size:"sm",children:["View All",e.jsx(u,{className:"ml-2 h-4 w-4"})]})})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:w.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-mono font-semibold",children:s.number}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.issued_at).toLocaleDateString()})]}),x(s.state)]},s.id))})})]}),e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Recent Documents"}),e.jsx(o,{children:"Your latest submissions"})]}),e.jsx(d,{href:"/documents",children:e.jsxs(c,{variant:"ghost",size:"sm",children:["View All",e.jsx(u,{className:"ml-2 h-4 w-4"})]})})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:y.map(s=>e.jsxs(d,{href:`/documents/${s.id}`,className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent transition-colors",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-mono text-sm font-semibold",children:s.registration_number}),e.jsx(g,{variant:"outline",className:"text-xs",children:s.direction})]}),e.jsx("p",{className:"text-sm",children:s.title||"Untitled"})]}),e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]},s.id))})})]})]})]})]})}export{q as default};
