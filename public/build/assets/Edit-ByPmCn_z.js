import{a as f,u as g,r as p,j as e,H as v,L as h,B as o}from"./app-oKcMah4B.js";import{A as w,U as N}from"./AppLayout-BkjjBjrr.js";import{L as l,I as n}from"./input-pKAWPIMY.js";import{C as y,a as C,b,d as E,c as U}from"./card-C115FapS.js";import{S as L,a as S,b as _,c as A,d as x}from"./select-IWh58R8R.js";import{A as D}from"./arrow-left-BCpD-NTc.js";/* empty css            */import"./sun-BNKJhPB7.js";function q({user:a,errors:i}){const{toast:c}=f(),{data:t,setData:r,put:u,processing:m,errors:d}=g({name:a.name,email:a.email,password:"",password_confirmation:"",role:a.role});p.useEffect(()=>{i&&Object.keys(i).length>0&&Object.values(i).forEach(s=>{c({variant:"destructive",title:"Error",description:s})})},[i]),p.useEffect(()=>{d&&Object.keys(d).length>0&&Object.values(d).forEach(s=>{c({variant:"destructive",title:"Validation Error",description:s})})},[d]);const j=s=>{s.preventDefault(),u(`/users/${a.id}`,{onSuccess:()=>{c({title:"Success",description:"User updated successfully."})}})};return e.jsxs(w,{children:[e.jsx(v,{title:`Edit User - ${a.name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(h,{href:"/users",children:e.jsxs(o,{variant:"ghost",size:"sm",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Back to Users"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit User"}),e.jsx("p",{className:"text-muted-foreground",children:"Update user information and settings"})]})]})}),e.jsxs(y,{className:"max-w-4xl",children:[e.jsxs(C,{children:[e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5"}),"User Information"]}),e.jsx(E,{children:"Update the user details below. Leave password fields empty to keep current password."})]}),e.jsx(U,{children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"Full Name *"}),e.jsx(n,{id:"name",type:"text",value:t.name,onChange:s=>r("name",s.target.value),placeholder:"Enter full name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email Address *"}),e.jsx(n,{id:"email",type:"email",value:t.email,onChange:s=>r("email",s.target.value),placeholder:"Enter email address",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password",children:"New Password"}),e.jsx(n,{id:"password",type:"password",value:t.password,onChange:s=>r("password",s.target.value),placeholder:"Enter new password (leave empty to keep current)",minLength:8})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password_confirmation",children:"Confirm New Password"}),e.jsx(n,{id:"password_confirmation",type:"password",value:t.password_confirmation,onChange:s=>r("password_confirmation",s.target.value),placeholder:"Confirm new password",minLength:8})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(l,{htmlFor:"role",children:"Role *"}),e.jsxs(L,{value:t.role,onValueChange:s=>r("role",s),children:[e.jsx(S,{className:"w-full",children:e.jsx(_,{placeholder:"Select user role"})}),e.jsxs(A,{children:[e.jsx(x,{value:"CLIENT",children:"Client"}),e.jsx(x,{value:"ADMIN",children:"Admin"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clients can create and manage their own documents. Admins have full system access."})]})]}),e.jsx("div",{className:"pt-6 border-t",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(a.created_at).toLocaleDateString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",new Date(a.updated_at).toLocaleDateString()]})]})}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[e.jsx(h,{href:"/users",children:e.jsx(o,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(o,{type:"submit",disabled:m,children:m?"Updating...":"Update User"})]})]})})]})]})]})}export{q as default};
