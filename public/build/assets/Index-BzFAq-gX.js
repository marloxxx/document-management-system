import{c as o,r as d,j as e,H as l,B as r,L as m}from"./app-oKcMah4B.js";import{B as u}from"./badge-B5R7UOFY.js";import{A as x}from"./AppLayout-BkjjBjrr.js";import{D as h}from"./DataTable-Ce7i-V-n.js";import{D as p}from"./download-D7LHs-Kt.js";import{E as j}from"./eye-B56zDxbF.js";/* empty css            */import"./sun-BNKJhPB7.js";import"./input-pKAWPIMY.js";import"./popover-B3yyS8N8.js";import"./select-IWh58R8R.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=o("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function C({}){const i=d.useRef(null),c=()=>{window.open("/activity-logs/export","_blank")},n=[{accessorKey:"formatted_date",header:"Date",cell:({row:s})=>{const t=new Date(s.getValue("formatted_date"));return e.jsxs("div",{className:"text-sm",children:[t.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}),e.jsx("br",{}),e.jsx("span",{className:"text-muted-foreground",children:t.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]})}},{accessorKey:"user_name",header:"User",cell:({row:s})=>{const t=s.getValue("user_name"),a=s.original.user_email;return e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t||"N/A"}),a&&a!=="-"&&e.jsx("div",{className:"text-sm text-muted-foreground",children:a})]})}},{accessorKey:"description",header:"Action",cell:({row:s})=>{const t=s.getValue("description");return e.jsx("div",{className:"max-w-[200px]",children:e.jsx(u,{variant:"outline",className:"text-xs",children:t||"N/A"})})}},{accessorKey:"subject_name",header:"Subject",cell:({row:s})=>{const t=s.getValue("subject_name"),a=s.original.subject_type;return e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t||"N/A"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:a?a.split("\\").pop():"N/A"})]})}},{accessorKey:"ip_address",header:"IP Address",cell:({row:s})=>{const t=s.getValue("ip_address");return e.jsx("span",{className:"font-mono text-sm",children:t!=="-"?t:"N/A"})}},{id:"actions",header:"Actions",cell:({row:s})=>{const t=s.original.id;return e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(m,{href:`/activity-logs/${t}`,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(j,{className:"h-4 w-4"})})})})}}];return e.jsxs(x,{children:[e.jsx(l,{title:"Activity Logs"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Activity Logs"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor system activities and user actions"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(r,{variant:"outline",onClick:c,children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),e.jsxs(r,{variant:"outline",onClick:()=>{i.current&&i.current.reload()},children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),e.jsx("div",{className:"w-full",children:e.jsx(h,{ref:i,columns:n,mode:"yajra",apiUrl:"/activity-logs",dtColumns:["id","log_name","description","subject_type","subject_id","causer_type","causer_id","properties","created_at","user_name","user_email","subject_name","ip_address","formatted_date"],searchPlaceholder:"Search activities...",emptyMessage:"No activity logs found.",showColumnVisibility:!0,showPagination:!0,pageSize:15})})]})]})}export{C as default};
