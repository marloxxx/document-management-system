import{g as D,r as y,j as e,H as w,L as n,s as r,B as c}from"./app-oKcMah4B.js";import{A as N,D as S,c as v,d as _,e as o}from"./AppLayout-BkjjBjrr.js";import{S as B}from"./separator-D-mlPY_S.js";import{B as C,a as k,b as d,c as T,d as E,e as I}from"./breadcrumb-6hc-S_ku.js";import{D as A}from"./DataTable-Ce7i-V-n.js";import{T as u,E as M,S as H,u as P}from"./useActionHandler-qcsT6nKO.js";import{D as V,a as K}from"./status-badges-Dwtx-k_E.js";import{P as R}from"./plus-BGGo3CBK.js";import{D as L}from"./download-D7LHs-Kt.js";import{E as Z}from"./eye-B56zDxbF.js";/* empty css            */import"./sun-BNKJhPB7.js";import"./chevron-right-BSH8rqjn.js";import"./input-pKAWPIMY.js";import"./popover-B3yyS8N8.js";import"./badge-B5R7UOFY.js";import"./select-IWh58R8R.js";function ne({isAdmin:m}){const h=D(),l=y.useRef(null),{handleDelete:x,handleExport:p,handleBulkDelete:j}=P(),f=[{accessorKey:"registration_number",header:"Registration Number",cell:({row:t})=>e.jsx("div",{className:"font-mono font-medium text-sm",children:t.getValue("registration_number")})},{accessorKey:"title",header:"Title & Type",cell:({row:t})=>{const s=t.original,a=t.getValue("title"),i=s.type?.name||s.document_type_text;return e.jsxs("div",{className:"max-w-[250px]",children:[e.jsx("div",{className:"font-medium text-sm truncate",children:a||e.jsx("span",{className:"text-muted-foreground italic",children:"No title"})}),i&&e.jsx("div",{className:"text-xs text-muted-foreground truncate",children:i})]})},enableSorting:!1},{accessorKey:"direction",header:"Direction",cell:({row:t})=>{const s=t.getValue("direction");return e.jsx(V,{direction:s})},enableSorting:!1},{accessorKey:"page_count",header:"Pages",cell:({row:t})=>e.jsx("div",{className:"text-sm",children:t.getValue("page_count")})},...m?[{accessorKey:"owner",header:"Owner & Identity",cell:({row:t})=>{const s=t.original,a=s.user_identity;return e.jsxs("div",{className:"max-w-[200px]",children:[e.jsx("div",{className:"text-sm font-medium",children:s.owner.name}),a&&e.jsx("div",{className:"text-xs text-muted-foreground truncate",children:a})]})},enableSorting:!1}]:[],{accessorKey:"status",header:"Status",cell:({row:t})=>{const s=t.getValue("status");return e.jsx(K,{status:s})},enableSorting:!1},{id:"actions",header:"Actions",enableSorting:!1,cell:({row:t})=>{const s=t.original,a=s.title||s.registration_number;return e.jsxs(S,{children:[e.jsx(v,{asChild:!0,children:e.jsxs(c,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(M,{className:"h-4 w-4"})]})}),e.jsxs(_,{align:"end",children:[e.jsx(o,{asChild:!0,children:e.jsxs(n,{href:r("documents.show",s.id),children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),"View"]})}),e.jsx(o,{asChild:!0,children:e.jsxs(n,{href:r("documents.edit",s.id),children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(o,{onClick:async()=>{await h({title:"Delete Document",description:`Are you sure you want to delete document ${a}? This action cannot be undone.`,confirmText:"Delete"})&&x(s.id,r("documents.destroy",s.id),`Document ${a}`,{onSuccess:()=>l.current?.reload()})},className:"text-red-600",children:[e.jsx(u,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}],g=[{key:"direction",label:"Direction",type:"select",placeholder:"Select direction",options:[{label:"All Directions",value:"all"},{value:"ID->ZH",label:"ID → ZH"},{value:"ZH->ID",label:"ZH → ID"}]},{key:"status",label:"Status",type:"select",placeholder:"Select status",options:[{label:"All Status",value:"all"},{value:"DRAFT",label:"Draft"},{value:"SUBMITTED",label:"Submitted"}]}],b=[{label:"Export",icon:L,variant:"outline",size:"sm",onClick:t=>{p(t||[],"documents")}},{label:"Bulk Delete",icon:u,variant:"destructive",size:"sm",showWhenSelected:!0,onClick:t=>{j(t||[],"documents")}}];return e.jsxs(N,{children:[e.jsx(w,{title:"Documents"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(C,{children:e.jsxs(k,{children:[e.jsx(d,{children:e.jsx(T,{asChild:!0,children:e.jsx(n,{href:"/dashboard",children:"Dashboard"})})}),e.jsx(E,{}),e.jsx(d,{children:e.jsx(I,{children:"Document Management"})})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Documents"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and track all translation documents"})]}),e.jsx(n,{href:r("documents.create"),children:e.jsxs(c,{children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"Create Document"]})})]}),e.jsx(B,{}),e.jsx(A,{ref:l,columns:f,mode:"yajra",apiUrl:r("documents.index"),dtColumns:["id","registration_number","title","direction","status","page_count","user_identity","created_at","updated_at","owner","type","registration"],searchPlaceholder:"Search documents...",filters:g,actions:b,showRowSelection:!0,showColumnVisibility:!0,showPagination:!0,emptyMessage:"No documents found.",pageSize:10})]})]})}export{ne as default};
